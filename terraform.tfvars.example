# Kong Gateway on ECS - Terraform Variables
# Copy this file to terraform.tfvars and fill in your values

# Project Configuration
project_name = "mycompany"  # Used for resource naming (e.g., mycompany-kong-vpc)
environment  = "poc"        # Environment tag (e.g., poc, dev, prod)

# AWS Configuration
aws_region = "eu-west-1"
vpc_cidr   = "10.0.0.0/16"

# Konnect Configuration (from Konnect UI > Gateway Manager > Your CP > Data Plane Nodes)
konnect_cp_endpoint           = "REPLACE_WITH_CP_ENDPOINT"      # e.g., abc123def.eu.cp0.konghq.com:443
konnect_cp_server_name        = "REPLACE_WITH_CP_SERVER_NAME"   # e.g., abc123def.eu.cp0.konghq.com
konnect_telemetry_endpoint    = "REPLACE_WITH_TP_ENDPOINT"      # e.g., abc123def.eu.tp0.konghq.com:443
konnect_telemetry_server_name = "REPLACE_WITH_TP_SERVER_NAME"   # e.g., abc123def.eu.tp0.konghq.com

# Kong Gateway Configuration
kong_image_tag = "3.9.0.0"

# AWS Secrets Manager (Kong Vault Backend)
# Uncomment to enable Kong access to AWS Secrets Manager for vault references
# secrets_manager_arns = [
#   "arn:aws:secretsmanager:eu-west-1:123456789012:secret:kong-demo/*",
#   "arn:aws:secretsmanager:eu-west-1:123456789012:secret:api-keys/*"
# ]

# Amazon Bedrock (AI Gateway)
# Uncomment to enable Kong to invoke Bedrock models via the ECS task role
# bedrock_model_arns = [
#   "arn:aws:bedrock:us-east-1::foundation-model/*",                        # All foundation models in us-east-1
#   "arn:aws:bedrock:us-west-2::foundation-model/*",                        # All foundation models in us-west-2 (failover)
#   "arn:aws:bedrock:us-east-1:123456789012:imported-model/*"               # Custom imported models
# ]

# ECS Configuration
ecs_task_cpu   = 512   # CPU units
ecs_task_memory = 1024 # Memory in MB
desired_count  = 2     # Number of Kong instances
